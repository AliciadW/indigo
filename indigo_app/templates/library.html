{% extends "layout.html" %}

{% block title %}Library{% endblock %}

{% block header %}
<h4>Library</h4>
{% endblock %}

{% block content %}

<div class="workspace-content">
  <div class="boxed-group-inner">
    <article id="library">
    </article>
  </div>
</div>

{% endblock %}

{% block js %}
{{ block.super }}

<script id="search-results-template" type="text/x-handlebars-template">
{% verbatim %}

<table class="table table-condensed table-hover tablesorter document-list-table">
  <thead>
    <tr>
      <th class="title">Title</th>
      <th class="draft">Draft?</th>
      <th class="year">Year</th>
      <th class="number">Number</th>
      <th class="updated">Updated</th>
    </tr>
  </thead>
  <tbody>
    {{#each documents}}
      <tr>
        <td>
          <a href="/documents/{{ id }}">
            {{#if title}}
              {{ title }}
            {{else}}
              (untitled)
            {{/if}}
          </a>

          {{#if stub}}
            <span class="label label-info">stub</span>
          {{/if}}

          {{#each tags}}
            <span class="label label-default">{{this}}</span>
          {{/each}}
        </td>
        <td>
          {{#if draft}}
            <span class="label label-warning">draft</span>
          {{else}}
            <a href="{{ published_url }}" target="_blank"><span class="label label-info">published</span></a>
          {{/if}}
        </td>
        <td>{{ year }}</td>
        <td>{{ number }}</td>
        <td>
          <span class="hidden">{{ updated_at }}</span>
          <span class="time-ago" data-timestamp="{{ updated_at }}">{{ updated_at }}</span>
        </td>
      </tr>
    {{/each}}
  </tbody>
  <tfoot>
    <tr>
      <td class="active" colspan="5">{{ count }} documents</td>
    </tr>
  </tfoot>
</table>
{% endverbatim %}

</script>

{% endblock %}
